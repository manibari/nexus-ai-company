# PRD：美股分析買賣軟體 (StockPulse)

> **文件編號**: PRD-2026-0001
> **版本**: 1.0.0
> **狀態**: ✅ 需求已確認 - 進入 P2 (Spec Ready)
> **作者**: PM Agent (ORCHESTRATOR)
> **審核者**: CEO
> **建立日期**: 2026-02-06
> **最後更新**: 2026-02-06
> **CEO 確認時間**: 2026-02-06 13:23

---

## 1. 執行摘要 (Executive Summary)

**產品名稱**：StockPulse - 美股智能分析工具

**產品願景**：為台灣散戶投資人提供一站式美股分析平台，整合技術分析、AI 選股與策略回測功能。

**目標用戶**：台灣地區的散戶投資人

**商業模式**：自用工具（內部使用）

**MVP 時程**：1 個月

---

## 2. 需求確認 (Requirements Confirmed)

### 2.1 CEO 回覆摘要

| 類別 | 決策 |
|------|------|
| 目標用戶 | 台灣散戶 |
| 數據來源 | Yahoo Finance (免費，延遲15分鐘) |
| 平台 | Web App |
| 核心功能 | 技術分析 + AI選股 + 回測 |
| 預算 | 開發 $50,000 / 月費 $3,000 |
| 時程 | 1 個月 |

### 2.2 功能範圍確認

**包含 (In Scope)**：
- ✅ 技術指標分析
- ✅ K線圖表
- ✅ 基本面數據
- ✅ AI 選股推薦
- ✅ 新聞情緒分析
- ✅ 策略回測

**不包含 (Out of Scope)**：
- ❌ 即時報價
- ❌ 交易下單
- ❌ 模擬交易
- ❌ Mobile App
- ❌ SEC 法規遵循

---

## 3. 功能需求 (Functional Requirements)

### 3.1 核心功能 (P0 - Must Have)

| ID | 功能 | 描述 | 驗收標準 |
|----|------|------|----------|
| F-001 | 股票搜尋 | 輸入代號搜尋美股 | 可搜尋 S&P 500 成分股 |
| F-002 | K線圖表 | 顯示日/週/月 K 線 | 支援縮放、移動 |
| F-003 | 技術指標 | MA, RSI, MACD, KD, Bollinger | 至少 5 種指標可疊加 |
| F-004 | 基本面數據 | 顯示 PE, PB, 市值, 股息 | 數據延遲 < 1 天 |
| F-005 | AI 選股 | 根據條件推薦股票 | 每日更新推薦清單 |
| F-006 | 策略回測 | 回測交易策略績效 | 顯示報酬率、夏普比率 |

### 3.2 重要功能 (P1 - Should Have)

| ID | 功能 | 描述 | 驗收標準 |
|----|------|------|----------|
| F-101 | 新聞情緒 | 分析相關新聞情緒 | 顯示正/負面比例 |
| F-102 | 自選股清單 | 用戶可建立追蹤清單 | 支援多個清單 |
| F-103 | 警示通知 | 價格/指標警示 | 瀏覽器通知 |

### 3.3 加分功能 (P2 - Nice to Have)

| ID | 功能 | 描述 |
|----|------|------|
| F-201 | 財報日曆 | 顯示財報發布日期 |
| F-202 | 比較模式 | 多股票比較 |
| F-203 | 匯出報告 | PDF 報告匯出 |

---

## 4. 技術規格 (Technical Specifications)

### 4.1 系統架構

```
┌─────────────────────────────────────────────────────────────────┐
│                     Frontend (React)                            │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │ 圖表模組    │  │ 分析模組    │  │ AI 模組     │             │
│  │ TradingView │  │ 指標計算    │  │ 選股推薦    │             │
│  │ Lightweight │  │             │  │             │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
└───────────────────────────────┬─────────────────────────────────┘
                                │ REST API
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                     Backend (FastAPI)                           │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │ Stock API   │  │ Analysis    │  │ Backtest    │             │
│  │ yfinance    │  │ Engine      │  │ Engine      │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
│                                                                  │
│  ┌─────────────┐  ┌─────────────┐                              │
│  │ AI/LLM     │  │ News        │                              │
│  │ Claude API │  │ Sentiment   │                              │
│  └─────────────┘  └─────────────┘                              │
└───────────────────────────────┬─────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                     Database (SQLite)                           │
│  用戶設定 │ 自選股 │ 回測記錄 │ 快取數據                        │
└─────────────────────────────────────────────────────────────────┘
```

### 4.2 技術棧

| 層級 | 技術 | 理由 |
|------|------|------|
| 前端 | React + TypeScript + TailwindCSS | 現有技術棧 |
| 圖表 | TradingView Lightweight Charts | 免費、輕量、專業 |
| 後端 | FastAPI + Python | 現有技術棧 |
| 數據 | yfinance | 免費、穩定 |
| AI | Claude API | 現有整合 |
| 資料庫 | SQLite | 自用工具足夠 |
| 部署 | 本地 / Docker | 自用 |

### 4.3 第三方整合

| 服務 | 用途 | 成本 |
|------|------|------|
| yfinance | 股價數據 | 免費 |
| Finnhub | 新聞數據 | 免費 (60次/分) |
| Claude API | AI 分析 | ~$50/月 (估) |

### 4.4 成本估算

| 項目 | 月費 |
|------|------|
| 伺服器 (本地) | $0 |
| Claude API | ~$50 |
| 其他 API | $0 |
| **總計** | **~$50/月** (遠低於 $3,000 預算) |

---

## 5. UI 設計 (Wireframe)

### 5.1 主畫面

```
┌─────────────────────────────────────────────────────────────────┐
│ 🔍 [搜尋股票...]                    [自選股 ▼] [設定]           │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  AAPL - Apple Inc.                              $185.42 (+1.2%) │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │                                                            │  │
│  │                    [K 線 圖 表]                            │  │
│  │                                                            │  │
│  │                                                            │  │
│  └───────────────────────────────────────────────────────────┘  │
│  [1D] [1W] [1M] [3M] [1Y] [ALL]     指標: [MA] [RSI] [MACD]    │
│                                                                  │
├──────────────────────────┬──────────────────────────────────────┤
│ 📊 技術指標              │ 📈 基本面                            │
│ RSI(14): 58.3           │ P/E: 28.5                            │
│ MACD: 2.15              │ P/B: 45.2                            │
│ MA(20): $182.50         │ 市值: $2.85T                         │
│ MA(50): $178.20         │ 股息: 0.52%                          │
├──────────────────────────┼──────────────────────────────────────┤
│ 🤖 AI 分析               │ 📰 新聞情緒                          │
│ 建議：持有               │ 正面: 65%                            │
│ 信心度: 72%              │ 中性: 25%                            │
│ 理由: 技術面偏多...      │ 負面: 10%                            │
└──────────────────────────┴──────────────────────────────────────┘
```

### 5.2 AI 選股頁面

```
┌─────────────────────────────────────────────────────────────────┐
│ 🤖 AI 選股推薦                                    [更新時間]    │
├─────────────────────────────────────────────────────────────────┤
│ 篩選條件:                                                        │
│ [產業 ▼] [市值 ▼] [技術面 ▼] [基本面 ▼]      [開始選股]        │
├─────────────────────────────────────────────────────────────────┤
│ 股票      │ 產業     │ 評分  │ 理由              │ 操作        │
│ NVDA     │ 科技     │ 92   │ AI 題材強勢...    │ [查看]      │
│ MSFT     │ 科技     │ 88   │ 雲端業務成長...   │ [查看]      │
│ COST     │ 零售     │ 85   │ 防禦性佳...       │ [查看]      │
└─────────────────────────────────────────────────────────────────┘
```

---

## 6. 開發計劃 (Development Plan)

### 6.1 階段規劃

| 階段 | 週次 | 內容 | 產出 |
|------|------|------|------|
| P2 Spec | Week 0 | 規格確認 | 本文件 |
| P3 Dev - Sprint 1 | Week 1-2 | 基礎架構 + 圖表 | 可顯示 K 線 |
| P3 Dev - Sprint 2 | Week 3 | 技術指標 + 基本面 | 完整分析頁 |
| P3 Dev - Sprint 3 | Week 4 | AI 選股 + 回測 | MVP 完成 |
| P4 QA | Week 4 | 測試 | 測試報告 |
| P5 UAT | Week 4 | CEO 驗收 | 上線 |

### 6.2 里程碑

| 日期 | 里程碑 | 驗收條件 |
|------|--------|----------|
| 2026-02-13 | Sprint 1 完成 | K 線圖可顯示 |
| 2026-02-20 | Sprint 2 完成 | 技術指標可用 |
| 2026-02-27 | Sprint 3 完成 | AI 選股可用 |
| 2026-03-06 | MVP 上線 | CEO 驗收通過 |

---

## 7. 風險評估 (Risks)

| 風險 | 機率 | 影響 | 緩解措施 |
|------|------|------|----------|
| yfinance 被封鎖 | 中 | 高 | 準備備用 API (Alpha Vantage) |
| AI 回應不準確 | 中 | 中 | 加入免責聲明 |
| 開發時間不足 | 低 | 高 | 優先完成 P0 功能 |

---

## 8. 下一步 (Next Steps)

1. ✅ CEO 確認需求 (已完成)
2. ⏳ **PM 建立 ProductItem 進入 P2**
3. ⏳ 分配開發任務給 BUILDER
4. ⏳ 開始 Sprint 1 開發

---

## 審核記錄

| 版本 | 日期 | 審核者 | 決策 | 備註 |
|------|------|--------|------|------|
| 0.1.0 | 2026-02-06 | - | 草案 | 需求問卷已發送 |
| 1.0.0 | 2026-02-06 | CEO | ✅ 已確認 | CEO 回覆問卷 |
