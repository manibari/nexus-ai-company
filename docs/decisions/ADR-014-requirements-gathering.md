# ADR-014: Requirements Gathering Process (éœ€æ±‚è’é›†æµç¨‹)

## ç‹€æ…‹
æè­°ä¸­

## èƒŒæ™¯

### å•é¡Œç™¼ç¾
åœ¨è™•ç† CEO æå‡ºçš„ã€Œç¾è‚¡åˆ†æè²·è³£è»Ÿé«”ã€éœ€æ±‚æ™‚ï¼Œç™¼ç¾ç¾æœ‰ Product Pipeline å­˜åœ¨æµç¨‹ç¼ºå£ï¼š

**ç¾æœ‰æµç¨‹**ï¼š
```
P1 Backlog (æ¨¡ç³Šæƒ³æ³•) â†’ P2 Spec Ready (è¦æ ¼ç¢ºèª)
```

**å•é¡Œ**ï¼š
- P1 éšæ®µåƒ…è¨˜éŒ„ã€Œæ¨¡ç³Šæƒ³æ³•ã€ï¼Œç¼ºä¹çµæ§‹åŒ–è³‡è¨Š
- PM ç›´æ¥é€²å…¥ P2 æ’°å¯«è¦æ ¼ï¼Œä½†ç¼ºä¹è¶³å¤ çš„éœ€æ±‚è³‡è¨Š
- æ²’æœ‰æ­£å¼çš„ CEO â†” PM éœ€æ±‚å°è©±æ©Ÿåˆ¶
- å°è‡´è¦æ ¼å¯èƒ½åé›¢ CEO æœŸæœ›

### å¯¦éš›æ¡ˆä¾‹
CEO æå‡ºã€Œç¾è‚¡åˆ†æè²·è³£è»Ÿé«”ã€éœ€æ±‚ï¼Œä½† PM éœ€è¦çŸ¥é“ï¼š
- ç›®æ¨™ç”¨æˆ¶æ˜¯èª°ï¼Ÿ
- éœ€è¦å“ªäº›æ ¸å¿ƒåŠŸèƒ½ï¼Ÿ
- æ•¸æ“šä¾†æºæœ‰å“ªäº›ï¼Ÿ
- æŠ€è¡“å¹³å°é™åˆ¶ï¼Ÿ
- é ç®—èˆ‡æ™‚ç¨‹ï¼Ÿ
- æ³•è¦éµå¾ªè¦æ±‚ï¼Ÿ

é€™äº›è³‡è¨Šåœ¨ç¾æœ‰æµç¨‹ä¸­æ²’æœ‰æ¨™æº–åŒ–çš„è’é›†æ–¹å¼ã€‚

## æ±ºç­–

### æ–°å¢ P1.5 éšæ®µï¼šRequirements Gathering (éœ€æ±‚è’é›†)

**ä¿®æ”¹å¾Œçš„ Product Pipeline**ï¼š
```
P1 Backlog        â†’ P1.5 Requirements  â†’ P2 Spec Ready â†’ P3 Dev â†’ ...
   (CEO æƒ³æ³•)         (PM è’é›†éœ€æ±‚)         (PM å¯«è¦æ ¼)
                         â†‘
                    CEO å›è¦†éœ€æ±‚
```

### éœ€æ±‚è’é›†æ¨™æº–æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Requirements Gathering Flow                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  CEO æå‡ºæƒ³æ³• (P1)                                               â”‚
â”‚        â”‚                                                         â”‚
â”‚        â–¼                                                         â”‚
â”‚  PM ç™¼é€éœ€æ±‚å•å· â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚        â”‚                                                       â”‚ â”‚
â”‚        â–¼                                                       â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚ éœ€æ±‚å•å· (Requirements Questionnaire)                    â”‚  â”‚ â”‚
â”‚  â”‚                                                          â”‚  â”‚ â”‚
â”‚  â”‚  1. ç›®æ¨™ç”¨æˆ¶ (Target Users)                              â”‚  â”‚ â”‚
â”‚  â”‚  2. æ ¸å¿ƒåŠŸèƒ½ (Core Features)                             â”‚  â”‚ â”‚
â”‚  â”‚  3. æŠ€è¡“é™åˆ¶ (Technical Constraints)                     â”‚  â”‚ â”‚
â”‚  â”‚  4. æ•¸æ“šä¾†æº (Data Sources)                              â”‚  â”‚ â”‚
â”‚  â”‚  5. æ•´åˆéœ€æ±‚ (Integration Requirements)                  â”‚  â”‚ â”‚
â”‚  â”‚  6. é ç®—æ™‚ç¨‹ (Budget & Timeline)                         â”‚  â”‚ â”‚
â”‚  â”‚  7. æ³•è¦éµå¾ª (Compliance)                                â”‚  â”‚ â”‚
â”‚  â”‚  8. å•†æ¥­æ¨¡å¼ (Business Model)                            â”‚  â”‚ â”‚
â”‚  â”‚  9. æˆåŠŸæŒ‡æ¨™ (Success Metrics)                           â”‚  â”‚ â”‚
â”‚  â”‚ 10. å„ªå…ˆé †åº (Priority Ranking)                          â”‚  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚        â”‚                                                       â”‚ â”‚
â”‚        â–¼                                                       â”‚ â”‚
â”‚  CEO å¡«å¯«å›è¦† â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        â”‚                                                         â”‚
â”‚        â–¼                                                         â”‚
â”‚  PM å½™æ•´éœ€æ±‚ â†’ ç”¢å‡º PRD è‰æ¡ˆ                                     â”‚
â”‚        â”‚                                                         â”‚
â”‚        â–¼                                                         â”‚
â”‚  CEO ç¢ºèª PRD â†’ é€²å…¥ P2 (Spec Ready)                             â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è³‡æ–™æ¨¡å‹

```python
from enum import Enum
from dataclasses import dataclass
from typing import List, Optional
from datetime import datetime


class RequirementStatus(Enum):
    PENDING = "pending"           # ç­‰å¾… CEO å›è¦†
    IN_PROGRESS = "in_progress"   # CEO æ­£åœ¨å¡«å¯«
    COMPLETED = "completed"       # CEO å·²å®Œæˆå›è¦†
    APPROVED = "approved"         # PRD å·²ç¢ºèª


@dataclass
class RequirementQuestion:
    """éœ€æ±‚å•é¡Œ"""
    id: str
    category: str                 # target_users, features, tech, etc.
    question: str                 # å•é¡Œå…§å®¹
    answer: Optional[str] = None  # CEO å›è¦†
    options: Optional[List[str]] = None  # å¯é¸é …ï¼ˆå¦‚æœ‰ï¼‰
    required: bool = True
    answered_at: Optional[datetime] = None


@dataclass
class RequirementGathering:
    """éœ€æ±‚è’é›†"""
    id: str                       # REQ-{year}-{xxxx}
    product_id: str               # é—œè¯çš„ ProductItem
    title: str
    description: str

    questions: List[RequirementQuestion]

    status: RequirementStatus = RequirementStatus.PENDING
    prd_draft: Optional[str] = None  # PRD è‰æ¡ˆ (Markdown)

    requested_by: str = "ORCHESTRATOR"
    requested_at: datetime = None
    completed_at: Optional[datetime] = None
    approved_at: Optional[datetime] = None
```

### éœ€æ±‚å•å·æ¨¡æ¿

æ ¹æ“šç”¢å“é¡å‹ï¼Œæä¾›ä¸åŒçš„å•å·æ¨¡æ¿ï¼š

#### é€šç”¨æ¨¡æ¿ (General)

| é¡åˆ¥ | å•é¡Œ | å¿…å¡« |
|------|------|------|
| target_users | ç›®æ¨™ç”¨æˆ¶æ˜¯èª°ï¼Ÿ | Y |
| features | éœ€è¦å“ªäº›æ ¸å¿ƒåŠŸèƒ½ï¼Ÿ | Y |
| tech_platform | ç›®æ¨™å¹³å°ï¼Ÿ(Web/Mobile/Desktop) | Y |
| budget | é ç®—ç¯„åœï¼Ÿ | N |
| timeline | é æœŸå®Œæˆæ™‚é–“ï¼Ÿ | N |
| success_metrics | å¦‚ä½•è¡¡é‡æˆåŠŸï¼Ÿ | N |

#### è»Ÿé«”ç”¢å“æ¨¡æ¿ (Software Product)

| é¡åˆ¥ | å•é¡Œ | å¿…å¡« |
|------|------|------|
| target_users | ç›®æ¨™ç”¨æˆ¶æ˜¯èª°ï¼Ÿ(è§’è‰²/è¦æ¨¡/åœ°å€) | Y |
| pain_points | ç”¨æˆ¶ç›®å‰çš„ç—›é»æ˜¯ä»€éº¼ï¼Ÿ | Y |
| features | éœ€è¦å“ªäº›æ ¸å¿ƒåŠŸèƒ½ï¼Ÿ | Y |
| data_sources | éœ€è¦æ•´åˆå“ªäº›æ•¸æ“šä¾†æºï¼Ÿ | Y |
| integrations | éœ€è¦ä¸²æ¥å“ªäº›ç¬¬ä¸‰æ–¹æœå‹™ï¼Ÿ | N |
| tech_platform | ç›®æ¨™å¹³å°ï¼Ÿ | Y |
| tech_stack | æŠ€è¡“æ£§åå¥½ï¼Ÿ | N |
| budget | é–‹ç™¼é ç®—ç¯„åœï¼Ÿ | Y |
| recurring_cost | å¯æ¥å—çš„æœˆè²»ä¸Šé™ï¼Ÿ | N |
| timeline | MVP é æœŸå®Œæˆæ™‚é–“ï¼Ÿ | Y |
| compliance | éœ€è¦ç¬¦åˆå“ªäº›æ³•è¦ï¼Ÿ | N |
| business_model | å•†æ¥­æ¨¡å¼ï¼Ÿ(è¨‚é–±/ä¸€æ¬¡æ€§/å…è²») | Y |
| success_metrics | æˆåŠŸæŒ‡æ¨™ï¼Ÿ | N |
| competitors | ç«¶å“åƒè€ƒï¼Ÿ | N |
| priority | åŠŸèƒ½å„ªå…ˆé †åºï¼Ÿ | N |

### API è¨­è¨ˆ

```yaml
# Requirements Gathering
POST   /api/v1/product/{id}/requirements     # å»ºç«‹éœ€æ±‚å•å·
GET    /api/v1/product/{id}/requirements     # å–å¾—éœ€æ±‚å•å·
PUT    /api/v1/product/{id}/requirements     # CEO å›è¦†å•å·
POST   /api/v1/product/{id}/requirements/approve  # CEO ç¢ºèª PRD
```

### CEO Inbox æ•´åˆ

éœ€æ±‚å•å·æœƒå‡ºç¾åœ¨ CEO Inbox ä¸­ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¥ CEO Inbox                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“ éœ€æ±‚ç¢ºèªï¼šç¾è‚¡åˆ†æè²·è³£è»Ÿé«”                              â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚ ä¾†è‡ªï¼šPM Agent (ORCHESTRATOR)                              â”‚  â”‚
â”‚  â”‚ æ™‚é–“ï¼š2026-02-06 12:00                                     â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚ PM éœ€è¦æ‚¨å›è¦†ä»¥ä¸‹å•é¡Œä»¥é–‹å§‹è¦åŠƒï¼š                          â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚ 1. ç›®æ¨™ç”¨æˆ¶æ˜¯èª°ï¼Ÿ [_______________]                        â”‚  â”‚
â”‚  â”‚ 2. æ ¸å¿ƒåŠŸèƒ½æœ‰å“ªäº›ï¼Ÿ [_______________]                      â”‚  â”‚
â”‚  â”‚ 3. æ•¸æ“šä¾†æºï¼Ÿ [_______________]                            â”‚  â”‚
â”‚  â”‚ ...                                                        â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚ [æäº¤å›è¦†] [ç¨å¾Œå›è¦†]                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å¾Œæœ

### å„ªé»
- æ¨™æº–åŒ–éœ€æ±‚è’é›†æµç¨‹
- æ¸›å°‘è¦æ ¼èˆ‡æœŸæœ›ä¸ç¬¦çš„é¢¨éšª
- ä¿ç•™å®Œæ•´çš„éœ€æ±‚å°è©±è¨˜éŒ„
- PRD å“è³ªæå‡
- æ–¹ä¾¿è¿½æº¯éœ€æ±‚è®Šæ›´

### ç¼ºé»
- å¢åŠ æµç¨‹æ­¥é©Ÿ
- CEO éœ€è¦èŠ±æ™‚é–“å¡«å¯«å•å·
- ç°¡å–®éœ€æ±‚å¯èƒ½éåº¦æ–‡ä»¶åŒ–

### ç·©è§£æªæ–½
- å°æ–¼ç°¡å–®éœ€æ±‚ï¼Œå…è¨± CEO å¿«é€Ÿç¢ºèªè·³éå•å·
- å•å·æ”¯æ´èªéŸ³è¼¸å…¥æˆ–å¿«æ·é¸é …
- æä¾›å¸¸è¦‹å›è¦†æ¨¡æ¿

## å¯¦ä½œ

### éœ€ä¿®æ”¹çš„æª”æ¡ˆ

| æª”æ¡ˆ | ä¿®æ”¹å…§å®¹ |
|------|----------|
| `docs/pipelines/product-pipeline.md` | æ–°å¢ P1.5 éšæ®µèªªæ˜ |
| `backend/app/product/models.py` | æ–°å¢ RequirementGathering æ¨¡å‹ |
| `backend/app/product/repository.py` | æ–°å¢éœ€æ±‚è’é›† CRUD |
| `backend/app/api/product.py` | æ–°å¢éœ€æ±‚ç›¸é—œ API |
| `frontend/src/components/ProductBoard.tsx` | æ•´åˆéœ€æ±‚å•å· UI |

### å¯¦ä½œå„ªå…ˆç´š
1. å…ˆå»ºç«‹ PRD æ¨¡æ¿æ–‡ä»¶ï¼ˆæ‰‹å‹•ä½¿ç”¨ï¼‰
2. å¾Œç«¯ API å¯¦ä½œ
3. å‰ç«¯ UI æ•´åˆ
4. CEO Inbox æ•´åˆ

## åƒè€ƒ

- ADR-012: Product Board
- docs/pipelines/product-pipeline.md
